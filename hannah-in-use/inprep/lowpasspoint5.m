function y = lowpasspoint5(x)
%DOFILTER Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.1 and the DSP System Toolbox 9.3.
% Generated on: 25-Sep-2017 19:00:38

%#codegen

% To generate C/C++ code from this function use the codegen command.
% Type 'help codegen' for more information.

persistent Hd;

if isempty(Hd)

    % The following code was used to design the filter coefficients:
    %
    % N    = 50;    % Order
    % F3dB = 0.5;   % 3-dB Frequency
    % Fs   = 2000;  % Sampling Frequency
    %
    % h = fdesign.lowpass('n,f3db', N, F3dB, Fs);
    %
    % Hd = design(h, 'butter', ...
    %     'SystemObject', true);

    Hd = dsp.BiquadFilter( ...
        'Structure', 'Direct form II', ...
        'SOSMatrix', [1 2 1 1 -1.99989885782037 0.999901325099225; 1 2 1 1 ...
        -1.99970192679788 0.99970439383378; 1 2 1 1 -1.99950620077497 ...
        0.999508667569402; 1 2 1 1 -1.99931245127102 0.999314917826427; 1 2 1 1 ...
        -1.99912144156841 0.999123907888163; 1 2 1 1 -1.99893392372176 ...
        0.998936389810175; 1 2 1 1 -1.9987506356181 0.998753101480397; 1 2 1 1 ...
        -1.99857229809895 0.998574763741225; 1 2 1 1 -1.99839961215517 ...
        0.998402077584406; 1 2 1 1 -1.99823325620516 0.998235721429164; 1 2 1 1 ...
        -1.99807388346622 0.998076348493602; 1 2 1 1 -1.99792211942882 ...
        0.997924584268971; 1 2 1 1 -1.99777855944293 0.997781024105973; 1 2 1 1 ...
        -1.997643766425 0.997646230921745; 1 2 1 1 -1.99751826869376 ...
        0.997520733035683; 1 2 1 1 -1.9974025579426 0.997405022141766; 1 2 1 1 ...
        -1.99729708735541 0.997299551424459; 1 2 1 1 -1.9972022698727 ...
        0.997204733824775; 1 2 1 1 -1.99711847661376 0.997120940462457; 1 2 1 1 ...
        -1.9970460354604 0.997048499219722; 1 2 1 1 -1.99698522980708 ...
        0.996987693491388; 1 2 1 1 -1.99693629748169 0.996938761105629; 1 2 1 1 ...
        -1.99689942984055 0.996901893419011; 1 2 1 1 -1.99687477104082 ...
        0.996877234588856; 1 2 1 1 -1.99686241749257 0.996864881025367], ...
        'ScaleValues', [6.16819714419757e-07; 6.16758975879616e-07; ...
        6.16698608992018e-07; 6.16638851713181e-07; 6.16579939458815e-07; ...
        6.16522104181713e-07; 6.16465573465017e-07; 6.16410569634595e-07; ...
        6.16357308893879e-07; 6.16306000484369e-07; 6.16256845874906e-07; ...
        6.16210037982676e-07; 6.16165760428763e-07; 6.16124186830927e-07; ...
        6.16085480136117e-07; 6.16049791995084e-07; 6.16017262181282e-07; ...
        6.15988018056072e-07; 6.15962174082088e-07; 6.15939831386429e-07; ...
        6.15921077375161e-07; 6.15905985400456e-07; 6.15894614481479e-07; ...
        6.1588700907996e-07; 6.15883198931226e-07; 1]);
end

s = double(x);
y = step(Hd,s);
